Testing pack: data-as-bytes
EO source:
# This is the default 64+ symbols comment in front of named abstract object.
[] > t
  true > @
# This is the default 64+ symbols comment in front of named abstract object.
[] > i
  42 > @
# This is the default 64+ symbols comment in front of named abstract object.
[] > fl
  float 3.5 > @
# This is the default 64+ symbols comment in front of named abstract object.
[] > b
  01-AF > @
# This is the default 64+ symbols comment in front of named abstract object.
[] > one-byte
  01- > @
# This is the default 64+ symbols comment in front of named abstract object.
[] > empty
  -- > @

XSL transformations: [ 'objects', 'package', 'attrs', 'data', 'to-js' ]

Tests: [
  {
    "args": [
      [
        "        let ret = phi.take('org').take('eolang').take('true')",
        "        return ret"
      ]
    ],
    "method": "includes",
    "node": ".program.objects.object{.\"@_name\" == 't'}.javascript"
  },
  {
    "args": [
      [
        "        let ret = phi.take('org').take('eolang').take('number')",
        "          let ret_1 = phi.take('org').take('eolang').take('bytes').copy()",
        "          ret_1 = applied(ret_1, {",
        "            0: object().with({",
        "              'Î”': ['0x40', '0x45', '0x00', '0x00', '0x00', '0x00', '0x00', '0x00']",
        "            })",
        "          })",
        "        ret = applied(ret, {",
        "          0: ret_1",
        "        })",
        "        return ret"
      ]
    ],
    "method": "includes",
    "node": ".program.objects.object{.\"@_name\" == 'i'}.javascript"
  },
  {
    "args": [
      [
        "        let ret = phi.take('org').take('eolang').take('float')",
        "          let ret_1 = phi.take('org').take('eolang').take('number')",
        "            let ret_1_1 = phi.take('org').take('eolang').take('bytes').copy()",
        "            ret_1_1 = applied(ret_1_1, {",
        "              0: object().with({",
        "                'Î”': ['0x40', '0x0C', '0x00', '0x00', '0x00', '0x00', '0x00', '0x00']",
        "              })",
        "            })",
        "          ret_1 = applied(ret_1, {",
        "            0: ret_1_1",
        "          })",
        "        ret = applied(ret, {",
        "          0: ret_1",
        "        })",
        "        return ret"
      ]
    ],
    "method": "includes",
    "node": ".program.objects.object{.\"@_name\" == 'fl'}.javascript"
  },
  {
    "args": [
      [
        "        let ret = phi.take('org').take('eolang').take('bytes').copy()",
        "        ret = applied(ret, {",
        "          0: object().with({",
        "            'Î”': ['0x01', '0xAF']",
        "          })",
        "        })",
        "        return ret"
      ]
    ],
    "method": "includes",
    "node": ".program.objects.object{.\"@_name\" == 'b'}.javascript"
  },
  {
    "args": [
      [
        "        let ret = phi.take('org').take('eolang').take('bytes').copy()",
        "        ret = applied(ret, {",
        "          0: object().with({",
        "            'Î”': ['0x01']",
        "          })",
        "        })",
        "        return ret"
      ]
    ],
    "method": "includes",
    "node": ".program.objects.object{.\"@_name\" == 'one-byte'}.javascript"
  },
  {
    "args": [
      [
        "        let ret = phi.take('org').take('eolang').take('bytes').copy()",
        "        ret = applied(ret, {",
        "          0: object().with({",
        "            'Î”': []",
        "          })",
        "        })",
        "        return ret"
      ]
    ],
    "method": "includes",
    "node": ".program.objects.object{.\"@_name\" == 'empty'}.javascript"
  }
]
Running: /tmp/gh-issue-solver-1766085739012/eo2js/test/mvnw/mvnw org.eolang:eo-maven-plugin:register org.eolang:eo-maven-plugin:parse org.eolang:eo-maven-plugin:lint -Deo.version=0.59.0 -Deo.tag=0.59.0 -Deo.sourcesDir=/tmp/gh-issue-solver-1766085739012/experiments/test-pack-run/data-as-bytes/src -Deo.targetDir=/tmp/gh-issue-solver-1766085739012/experiments/test-pack-run/data-as-bytes/target -Deo.failOnWarning=false --batch-mode --color=never --update-snapshots --fail-fast --strict-checksums
[33m 0ms; 0 files generated so far...[39m[0K[1GWarning: JAVA_HOME environment variable is not set.
[INFO] Scanning for projects...
[33m 2s; 0 files generated so far...[39m[0K[1G[INFO] 
[INFO] -----------------------< com.maxonfjvipon:eo2js >-----------------------
[INFO] Building eo2js 0.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- eo:0.59.0:register (default-cli) @ eo2js ---
[INFO] Registered 1 EO sources from /tmp/gh-issue-solver-1766085739012/experiments/test-pack-run/data-as-bytes/src to /tmp/gh-issue-solver-1766085739012/experiments/test-pack-run/data-as-bytes/target/eo-foreign.json, included [**.eo], excluded []
[INFO] 
[INFO] --- eo:0.59.0:parse (default-cli) @ eo2js ---
[33m 3s; 1 files generated so far...[39m[0K[1G[33m 4s; 1 files generated so far...[39m[0K[1G[ERROR] Failed to parse '/tmp/gh-issue-solver-1766085739012/experiments/test-pack-run/data-as-bytes/src/t.eo:4': [4:0] error: 'Expected a valid program definition (one or more meta declarations followed by an object list), but encountered unexpected construct'
# This is the default 64+ symbols comment in front of named abstract object.
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[INFO] Parsed 1 new .eo sources out of 1 to XMIRs in 2s
[INFO] 
[INFO] --- eo:0.59.0:lint (default-cli) @ eo2js ---
[33m 5s; 2 files generated so far...[39m[0K[1G[ERROR] t:4 [4:0] error: 'Expected a valid program definition (one or more meta declarations followed by an object list), but encountered unexpected construct'
# This is the default 64+ symbols comment in front of named abstract object.
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ (eo-parser)
[WARNING] t:0 The +package meta is mandatory, but is absent (mandatory-package (Single))
[WARNING] t:0 The +version meta is mandatory, but is absent (mandatory-version (Single))
[WARNING] t:2 Sparse decoration is prohibited (sparse-decoration (Single))
[ERROR] t:4 The line 4 is out of listing, which contains only 1 lines (error-line-out-of-listing (Single))
[ERROR] t:2 The line 2 is out of listing, which contains only 1 lines (object-line-out-of-listing (Single))
[ERROR] t:2 The line 2 is out of listing, which contains only 1 lines (object-line-out-of-listing (Single))
[ERROR] t:3 The line 3 is out of listing, which contains only 1 lines (object-line-out-of-listing (Single))
[WARNING] t:0 Tests not found for "t" (unit-test-missing (Single))
[WARNING] t:0 The +spdx meta is mandatory, but is absent (mandatory-spdx (Single))
[WARNING] t:0 The +home meta is mandatory, but is absent (must contain URL of repository where object sources may be found) (mandatory-home (Single))
[33m 6s; 3 files generated so far...[39m[0K[1G[INFO] XMIR programs linted as a package: 1
[INFO] Linted 1 out of 1 XMIR program(s) that needed this (out of 1 total programs) in 2s: 1 critical error, and 6 warnings
[INFO] Read more about lints: https://www.objectionary.com/lints/0.0.60
[ERROR] In 1 XMIR files, we found 1 critical error, and 6 warnings (must stop here)
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  4.320 s
[INFO] Finished at: 2025-12-18T20:28:56+01:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.eolang:eo-maven-plugin:0.59.0:lint (default-cli) on project eo2js: 'MjLint' execution failed: java.lang.IllegalStateException: In 1 XMIR files, we found 1 critical error, and 6 warnings (must stop here) -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
The command "/tmp/gh-issue-solver-1766085739012/eo2js/test/mvnw/mvnw org.eolang:eo-maven-plugin:register org.eolang:eo-maven-plugin:parse org.eolang:eo-maven-plugin:lint -Deo.version=0.59.0 -Deo.tag=0.59.0 -Deo.sourcesDir=/tmp/gh-issue-solver-1766085739012/experiments/test-pack-run/data-as-bytes/src -Deo.targetDir=/tmp/gh-issue-solver-1766085739012/experiments/test-pack-run/data-as-bytes/target -Deo.failOnWarning=false --batch-mode --color=never --update-snapshots --fail-fast --strict-checksums" exited with #1 code
