
> eo2js@0.0.0 test
> ./node_modules/mocha/bin/mocha.js test/**/*.test.js --exclude test/resources



  dataize
    âœ” should dataize app object (628ms)

  link
    âœ” should create all necessary files and install npm project (459ms)
    âœ” should add test dependency (2504ms)
    âœ” should not reinstall npm packages if package-lock.json exists (607ms)

  test
    âœ” should execute unit tests (311ms)
    âœ” should exclude unit test (296ms)

  transpile
Recompiling stylesheets...
Recompiled 0 stylesheets
    command
      âœ” should fail if eo-foreign is not found (148ms)
      âœ” should fail if eo-foreign file is not .json (153ms)
XML parse error - misplaced XML declaration
Reading foreign tojos from: /home/user/eo2js/eo2js/temp/test-transpile/target/eo-foreign.json
Using transformations from: src/resources/json/
Output directory: /home/user/eo2js/eo2js/temp/test-transpile/target/project
Found 1 verified tojos to process
Processing: /home/user/eo2js/eo2js/temp/test-transpile/target/6-verify/com/eo2js/simple.xmir
XError: XML parse error - misplaced XML declaration
    at Object.parseXmlFromString (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4302:156)
    at q (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4581:17)
    at Object.transform (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4600:149)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:94:19
    at Array.forEach (<anonymous>)
    at transform (/home/user/eo2js/eo2js/src/commands/transpile.js:93:21)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:147:5
    at Array.forEach (<anonymous>)
    at Command.transpile (/home/user/eo2js/eo2js/src/commands/transpile.js:145:9)
    at Command.listener [as _actionHandler] (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:568:17)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1603:27)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1363:25)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1559:19)
    at Command.parse (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1093:10)
    at Object.<anonymous> (/home/user/eo2js/eo2js/src/eo2js.js:78:11)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
    at node:internal/main/run_main_module:33:47

      1) should create transpiled XMIRs
XML parse error - misplaced XML declaration
Reading foreign tojos from: /home/user/eo2js/eo2js/temp/test-transpile/target/eo-foreign.json
Using transformations from: src/resources/json/
Output directory: /home/user/eo2js/eo2js/temp/test-transpile/target/project
Found 1 verified tojos to process
Processing: /home/user/eo2js/eo2js/temp/test-transpile/target/6-verify/com/eo2js/simple.xmir
XError: XML parse error - misplaced XML declaration
    at Object.parseXmlFromString (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4302:156)
    at q (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4581:17)
    at Object.transform (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4600:149)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:94:19
    at Array.forEach (<anonymous>)
    at transform (/home/user/eo2js/eo2js/src/commands/transpile.js:93:21)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:147:5
    at Array.forEach (<anonymous>)
    at Command.transpile (/home/user/eo2js/eo2js/src/commands/transpile.js:145:9)
    at Command.listener [as _actionHandler] (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:568:17)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1603:27)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1363:25)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1559:19)
    at Command.parse (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1093:10)
    at Object.<anonymous> (/home/user/eo2js/eo2js/src/eo2js.js:78:11)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
    at node:internal/main/run_main_module:33:47

      2) should generate JS files
XML parse error - misplaced XML declaration
Reading foreign tojos from: /home/user/eo2js/eo2js/temp/test-transpile/target/eo-foreign.json
Using transformations from: src/resources/json/
Output directory: /home/user/eo2js/eo2js/temp/test-transpile/target/project
Found 1 verified tojos to process
Processing: /home/user/eo2js/eo2js/temp/test-transpile/target/6-verify/com/eo2js/simple-test.xmir
XError: XML parse error - misplaced XML declaration
    at Object.parseXmlFromString (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4302:156)
    at q (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4581:17)
    at Object.transform (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4600:149)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:94:19
    at Array.forEach (<anonymous>)
    at transform (/home/user/eo2js/eo2js/src/commands/transpile.js:93:21)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:147:5
    at Array.forEach (<anonymous>)
    at Command.transpile (/home/user/eo2js/eo2js/src/commands/transpile.js:145:9)
    at Command.listener [as _actionHandler] (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:568:17)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1603:27)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1363:25)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1559:19)
    at Command.parse (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1093:10)
    at Object.<anonymous> (/home/user/eo2js/eo2js/src/eo2js.js:78:11)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
    at node:internal/main/run_main_module:33:47

      3) should generate test JS file for simple-test
XML parse error - misplaced XML declaration
Reading foreign tojos from: /home/user/eo2js/eo2js/temp/test-transpile/target/eo-foreign.json
Using transformations from: src/resources/json/
Output directory: /home/user/eo2js/eo2js/temp/test-transpile/target/project
Found 1 verified tojos to process
Processing: /home/user/eo2js/eo2js/temp/test-transpile/target/6-verify/com/eo2js/alone-test.xmir
XError: XML parse error - misplaced XML declaration
    at Object.parseXmlFromString (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4302:156)
    at q (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4581:17)
    at Object.transform (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4600:149)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:94:19
    at Array.forEach (<anonymous>)
    at transform (/home/user/eo2js/eo2js/src/commands/transpile.js:93:21)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:147:5
    at Array.forEach (<anonymous>)
    at Command.transpile (/home/user/eo2js/eo2js/src/commands/transpile.js:145:9)
    at Command.listener [as _actionHandler] (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:568:17)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1603:27)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1363:25)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1559:19)
    at Command.parse (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1093:10)
    at Object.<anonymous> (/home/user/eo2js/eo2js/src/eo2js.js:78:11)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
    at node:internal/main/run_main_module:33:47

      4) should generate test JS file for alone-test
XML parse error - misplaced XML declaration
Reading foreign tojos from: /home/user/eo2js/eo2js/temp/test-transpile/target/eo-foreign.json
Using transformations from: src/resources/json/
Output directory: /home/user/eo2js/eo2js/temp/test-transpile/target/project
Found 1 verified tojos to process
Processing: /home/user/eo2js/eo2js/temp/test-transpile/target/6-verify/com/eo2js/simple.xmir
XError: XML parse error - misplaced XML declaration
    at Object.parseXmlFromString (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4302:156)
    at q (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4581:17)
    at Object.transform (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4600:149)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:94:19
    at Array.forEach (<anonymous>)
    at transform (/home/user/eo2js/eo2js/src/commands/transpile.js:93:21)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:147:5
    at Array.forEach (<anonymous>)
    at Command.transpile (/home/user/eo2js/eo2js/src/commands/transpile.js:145:9)
    at Command.listener [as _actionHandler] (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:568:17)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1603:27)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1363:25)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1559:19)
    at Command.parse (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1093:10)
    at Object.<anonymous> (/home/user/eo2js/eo2js/src/eo2js.js:78:11)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
    at node:internal/main/run_main_module:33:47

      5) should skip transpilation if source was not modified
XML parse error - misplaced XML declaration
Reading foreign tojos from: /home/user/eo2js/eo2js/temp/test-transpile/target/eo-foreign.json
Using transformations from: src/resources/json/
Output directory: /home/user/eo2js/eo2js/temp/test-transpile/target/project
Found 1 verified tojos to process
Processing: /home/user/eo2js/eo2js/temp/test-transpile/target/6-verify/com/eo2js/simple.xmir
XError: XML parse error - misplaced XML declaration
    at Object.parseXmlFromString (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4302:156)
    at q (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4581:17)
    at Object.transform (/home/user/eo2js/eo2js/node_modules/saxon-js/SaxonJS2N.js:4600:149)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:94:19
    at Array.forEach (<anonymous>)
    at transform (/home/user/eo2js/eo2js/src/commands/transpile.js:93:21)
    at /home/user/eo2js/eo2js/src/commands/transpile.js:147:5
    at Array.forEach (<anonymous>)
    at Command.transpile (/home/user/eo2js/eo2js/src/commands/transpile.js:145:9)
    at Command.listener [as _actionHandler] (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:568:17)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1604:14
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1603:27)
    at /home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1367:27
    at Command._chainOrCall (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1488:12)
    at Command._dispatchSubcommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1363:25)
    at Command._parseCommand (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1559:19)
    at Command.parse (/home/user/eo2js/eo2js/node_modules/commander/lib/command.js:1093:10)
    at Object.<anonymous> (/home/user/eo2js/eo2js/src/eo2js.js:78:11)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
    at node:internal/main/run_main_module:33:47

      6) should retranspile if source was modified
    transformation packs
Running: /home/user/eo2js/eo2js/test/mvnw/mvnw org.eolang:eo-maven-plugin:register org.eolang:eo-maven-plugin:parse org.eolang:eo-maven-plugin:optimize org.eolang:eo-maven-plugin:shake -Deo.version=0.49.0 -Deo.sourcesDir=/home/user/eo2js/eo2js/temp/test-transpile/packs/abstracts-to-objects/src -Deo.targetDir=/home/user/eo2js/eo2js/temp/test-transpile/packs/abstracts-to-objects/target --batch-mode --color=never --update-snapshots --fail-fast --strict-checksums
 0ms; 0 files generated so far...[0K[1GWarning: JAVA_HOME environment variable is not set.
WARNING: A restricted method in java.lang.System has been called
WARNING: java.lang.System::load has been called by org.fusesource.jansi.internal.JansiLoader in an unnamed module (file:/home/user/.m2/wrapper/dists/apache-maven-3.9.2-bin/3238cb54/apache-maven-3.9.2/lib/jansi-2.4.0.jar)
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
WARNING: Restricted methods will be blocked in a future release unless native access is enabled

WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::objectFieldOffset has been called by com.google.common.util.concurrent.AbstractFuture$UnsafeAtomicHelper (file:/home/user/.m2/wrapper/dists/apache-maven-3.9.2-bin/3238cb54/apache-maven-3.9.2/lib/guava-31.1-jre.jar)
WARNING: Please consider reporting this to the maintainers of class com.google.common.util.concurrent.AbstractFuture$UnsafeAtomicHelper
WARNING: sun.misc.Unsafe::objectFieldOffset will be removed in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------< com.maxonfjvipon:eo2js >-----------------------
[INFO] Building eo2js 0.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
 2s; 0 files generated so far...[0K[1G[INFO] 
[INFO] --- eo:0.49.0:register (default-cli) @ eo2js ---
[INFO] Registered 1 EO sources from /home/user/eo2js/eo2js/temp/test-transpile/packs/abstracts-to-objects/src to /home/user/eo2js/eo2js/temp/test-transpile/packs/abstracts-to-objects/target/eo-foreign.json, included [**.eo], excluded []
[INFO] 
[INFO] --- eo:0.49.0:parse (default-cli) @ eo2js ---
 3s; 1 files generated so far...[0K[1G[INFO] 59 attributes loaded from 68 stream(s) in 24ms, 59 saved, 721 ignored: ["Ant-Version", "Archiver-Version", "Automatic-Module-Name", "Bnd-LastModified", "Build-Id", "Build-Jdk", "Build-Jdk-Spec", "Build-Version", "Built-By", "Built-Date", "Bundle-ContactAddress", "Bundle-Description", "Bundle-DocURL", "Bundle-License", "Bundle-ManifestVersion", "Bundle-Name", "Bundle-RequiredExecutionEnvironment", "Bundle-SymbolicName", "Bundle-Vendor", "Bundle-Version", "Class-Path", "Created-By", "DynamicImport-Package", "EO-Dob", "EO-Revision", "EO-Version", "Export-Package", "Extension-Name", "Git-Revision", "Git-Url", "Implementation-Build", "Implementation-Build-Id", "Implementation-Title", "Implementation-URL", "Implementation-Vendor", "Implementation-Vendor-Id", "Implementation-Version", "Import-Package", "Include-Resource", "JCabi-Build", "JCabi-Date", "JCabi-Version", "Lints-Version", "Main-Class", "Main-class", "Major-Version", "Manifest-Version", "Multi-Release", "Originally-Created-By", "Package", "Project-Name", "Require-Capability", "Specification-Title", "Specification-Vendor", "Specification-Version", "Time-Zone-Database-Version", "Tool", "X-Compile-Source-JDK", "X-Compile-Target-JDK"]
[INFO] Parsed 1 new .eo sources out of 1 to XMIRs in 607ms
[INFO] 
[INFO] --- eo:0.49.0:optimize (default-cli) @ eo2js ---
[INFO] Optimized 1 out of 1 XMIR program(s) in 319ms
[INFO] 
[INFO] --- eo:0.49.0:shake (default-cli) @ eo2js ---
[INFO] Shaken 1 out of 1 XMIR program(s) in 92ms
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  2.293 s
[INFO] Finished at: 2025-11-13T14:29:51+04:00
[INFO] ------------------------------------------------------------------------
[2K